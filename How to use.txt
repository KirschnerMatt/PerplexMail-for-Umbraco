*** Uitleg over de EmailPackage ***

De EmailPackage is een .zip file welke in de /developer section van Umbraco geupload kan worden om de EmailPackage toe te voegen aan een installatie. Deze solution bevat alles wat nodig is om de package te genereren en te testen. De package .zip file wordt na het compileren van het eerste project (/EmailPackage/) automatisch via een build script gegenereerd.

*** Structuur van de solution ***

- /EmailPackage/: 		Dit is het primaire project in de solution. Deze bevat de e-mailpackage source code en de Umbraco plugins code voor de property editors
- /EmailPackage Attachments/: 	Hier worden dynamische attachments van de verzonden e-mails opgeslagen. Deze map wordt automatisch aangemaakt in projecten die de EmailPackage bevatten.
- /Input/: 			Dit is de invoer welke nodig is om de totale package zip file te genereren, momenteel package.xml en readme.txt
- /Output/:			Deze map bevat de emailpackage zip file. Deze wordt ververst bij iedere build van het project
- /Packages/:			Standaard NuGet packages.
- /Umbraco Test/:		Een test project met een Umbraco installatie. Hierop kan de package getest worden. Het maakt dus niet uit of hierin iets kapot gaat of niet.

*** Package wijzigen - Non-Umbraco wijzigingen (code, property editors) ***

Het project is dusdanig ingesteld dat zodra de solution wordt aangepast er een nieuwe package zip file wordt gegenereerd. Hierbij wordt de EmailPackage.dll+.pdf geinclude uit de /bin/ map, de /App_Plugins/EmailPackage/ map, en ook de /input/* bestanden uit de root van de solution.

Je kan gewoon je ding doen in de /code/ map en de /app_plugins/ map, en zodra je klaar bent hoef je alleen maar een (re)build te doen, en je nieuwe package versie staat klaar.

Wil je even testen of alles werkt, zet de project 'EmailPackage' dan als startup project en druk op F5. Je kan dan even testen of alles OK werkt. Let op dat je hier niet dingen stuk gaat maken, testen van het installeren van de package moet je gewoon in het tweede project doen.

*** Umbraco wijzigen (database) ***
Stel je wilt in Umbraco wijzigingen toebrengen zoals andere datatypen, namen, content, of wat dan ook, dan kan je dat in het 'EmailPackage' project doen. Je runt gewoon het project met F5, past aan wat je wilt, en vervolgens ga je naar de 'Develop' section in Umbraco. Ga op zoek naar de node 'Packages > Created packages > EmailPackage'. Zorg dat je eventueel nieuwe property editors en content meeneemt, en druk vervolgens op save en daarna publish. Vervolgens kan je op de eerste tab de package downloaden.

Echter, het enige wat we out deze package nodig hebben is de Package.xml. Hier staan namelijk de content/data types/property types in en deze hebben we nodig voor onze package generator build script. Kopieer de Package.xml en plak deze in je solution in de /input/ directory. De rest van de gedownloade zip hebben we niet weg en mag je dus weggooien.

Als je vervolgens weer je project gaat (re)builden, komt in de /output/ vanzelf de nieuwe package zip te staan!